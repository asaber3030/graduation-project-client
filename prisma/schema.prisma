generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "mysql"
  url       = env("DATBASE_LOCALHOST")
}

model Hospital {
  id           Int    @id @default(autoincrement())
  name         String
  logo         String
  description  String
  location     String

  createdAt       DateTime        @db.Timestamp() @default(now())
  updatedAt       DateTime        @db.Timestamp() @default(now())

  @@map("hospitals")
}

model Patient { // db.patient
  id          Int    @id @default(autoincrement())
  name        String
  password    String
  phoneNumber String @unique
  email       String @unique

  adresses Address[]

  createdAt DateTime @db.Timestamp() @default(now())
  updatedAt DateTime @db.Timestamp() @default(now())

  @@map("patients")
}

model Admin {
  id          Int    @id @default(autoincrement())
  name        String
  password    String
  phoneNumber String @unique
  email       String @unique

  createdAt DateTime @db.Timestamp() @default(now())
  updatedAt DateTime @db.Timestamp() @default(now())

  @@map("admins")
}

model Address {
  id          Int     @id @default(autoincrement())
  phoneNumber String  @unique
  streetName  String
  notes       String
  homeNumber  String
  patientId      Int
  patient        Patient    @relation(fields: [patientId], references: [id], onDelete: Cascade, onUpdate: Cascade)

  @@map("patients_addresses")
}

